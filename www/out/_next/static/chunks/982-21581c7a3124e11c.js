(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{6664:function(e,t,r){!function(e,t){"use strict";function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=o){var i=[],u=!0,a=!1;try{for(o=o.call(e);!(u=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);u=!0);}catch(e){a=!0,n=e}finally{try{u||null==o.return||o.return()}finally{if(a)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(){}function c(){}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,c.resetWarningCache=s;var l,f,p=(l=f={exports:{}},f.exports,l.exports=function(){function e(e,t,r,n,o,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var u=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:s};return r.PropTypes=r,r}(),f.exports),m=function(e){var r=t.useRef(e);return t.useEffect(function(){r.current=e},[e]),r.current},d=function(e){return null!==e&&"object"===o(e)},y="[object Object]",h=function e(t,r){if(!d(t)||!d(r))return t===r;var n=Array.isArray(t);if(n!==Array.isArray(r))return!1;var o=Object.prototype.toString.call(t)===y;if(o!==(Object.prototype.toString.call(r)===y))return!1;if(!o&&!n)return t===r;var i=Object.keys(t),u=Object.keys(r);if(i.length!==u.length)return!1;for(var a={},s=0;s<i.length;s+=1)a[i[s]]=!0;for(var c=0;c<u.length;c+=1)a[u[c]]=!0;var l=Object.keys(a);return l.length===i.length&&l.every(function(n){return e(t[n],r[n])})},b=function(e,t,r){return d(e)?Object.keys(e).reduce(function(o,u){var a=!d(t)||!h(e[u],t[u]);return r.includes(u)?(a&&console.warn("Unsupported prop change: options.".concat(u," is not a mutable property.")),o):a?n(n({},o||{}),{},i({},u,e[u])):o},null):null},g=function(e){if(null===e||d(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},v=function(e){if(d(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(g)};var t=g(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},E=t.createContext(null);E.displayName="ElementsContext";var j=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},w=t.createContext(null);w.displayName="CartElementContext";var k=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},C=function(e){var r=e.stripe,n=e.options,o=e.children,i=t.useMemo(function(){return v(r)},[r]),a=u(t.useState(null),2),s=a[0],c=a[1],l=u(t.useState(null),2),f=l[0],p=l[1],d=u(t.useState(function(){return{stripe:"sync"===i.tag?i.stripe:null,elements:"sync"===i.tag?i.stripe.elements(n):null}}),2),y=d[0],h=d[1];t.useEffect(function(){var e=!0,t=function(e){h(function(t){return t.stripe?t:{stripe:e,elements:e.elements(n)}})};return"async"!==i.tag||y.stripe?"sync"!==i.tag||y.stripe||t(i.stripe):i.stripePromise.then(function(r){r&&e&&t(r)}),function(){e=!1}},[i,y,n]);var g=m(r);t.useEffect(function(){null!==g&&g!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,r]);var j=m(n);return t.useEffect(function(){if(y.elements){var e=b(n,j,["clientSecret","fonts"]);e&&y.elements.update(e)}},[n,j,y.elements]),t.useEffect(function(){var e=y.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"1.16.4"}),e.registerAppInfo({name:"react-stripe-js",version:"1.16.4",url:"https://stripe.com/docs/stripe-js/react"}))},[y.stripe]),t.createElement(E.Provider,{value:y},t.createElement(w.Provider,{value:{cart:s,setCart:c,cartState:f,setCartState:p}},o))};C.propTypes={stripe:p.any,options:p.object};var S=function(e){return j(t.useContext(E),e)},O=function(e){return k(t.useContext(w),e)},x=function(e){return(0,e.children)(S("mounts <ElementsConsumer>"))};x.propTypes={children:p.func.isRequired};var A=function(e,r,n){var o=!!n,i=t.useRef(n);t.useEffect(function(){i.current=n},[n]),t.useEffect(function(){if(!o||!e)return function(){};var t=function(){i.current&&i.current.apply(i,arguments)};return e.on(r,t),function(){e.off(r,t)}},[o,r,e,i])},P=function(e,r){var n="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),o=r?function(e){S("mounts <".concat(n,">")),O("mounts <".concat(n,">"));var r=e.id,o=e.className;return t.createElement("div",{id:r,className:o})}:function(r){var o,i=r.id,a=r.className,s=r.options,c=void 0===s?{}:s,l=r.onBlur,f=r.onFocus,p=r.onReady,d=r.onChange,y=r.onEscape,h=r.onClick,g=r.onLoadError,v=r.onLoaderStart,E=r.onNetworksChange,j=r.onCheckout,w=r.onLineItemClick,k=r.onConfirm,C=r.onCancel,x=r.onShippingAddressChange,P=r.onShippingRateChange,N=S("mounts <".concat(n,">")).elements,F=u(t.useState(null),2),I=F[0],R=F[1],T=t.useRef(null),q=t.useRef(null),B=O("mounts <".concat(n,">")),L=B.setCart,_=B.setCartState;A(I,"blur",l),A(I,"focus",f),A(I,"escape",y),A(I,"click",h),A(I,"loaderror",g),A(I,"loaderstart",v),A(I,"networkschange",E),A(I,"lineitemclick",w),A(I,"confirm",k),A(I,"cancel",C),A(I,"shippingaddresschange",x),A(I,"shippingratechange",P),"cart"===e?o=function(e){_(e),p&&p(e)}:p&&(o="payButton"===e?p:function(){p(I)}),A(I,"ready",o),A(I,"change","cart"===e?function(e){_(e),d&&d(e)}:d),A(I,"checkout","cart"===e?function(e){_(e),j&&j(e)}:j),t.useLayoutEffect(function(){if(null===T.current&&N&&null!==q.current){var t=N.create(e,c);"cart"===e&&L&&L(t),T.current=t,R(t),t.mount(q.current)}},[N,c,L]);var U=m(c);return t.useEffect(function(){if(T.current){var e=b(c,U,["paymentRequest"]);e&&T.current.update(e)}},[c,U]),t.useLayoutEffect(function(){return function(){T.current&&(T.current.destroy(),T.current=null)}},[]),t.createElement("div",{id:i,className:a,ref:q})};return o.propTypes={id:p.string,className:p.string,onChange:p.func,onBlur:p.func,onFocus:p.func,onReady:p.func,onEscape:p.func,onClick:p.func,onLoadError:p.func,onLoaderStart:p.func,onNetworksChange:p.func,onCheckout:p.func,onLineItemClick:p.func,onConfirm:p.func,onCancel:p.func,onShippingAddressChange:p.func,onShippingRateChange:p.func,options:p.object},o.displayName=n,o.__elementType=e,o},N="undefined"==typeof window,F=P("auBankAccount",N),I=P("card",N),R=P("cardNumber",N),T=P("cardExpiry",N),q=P("cardCvc",N),B=P("fpxBank",N),L=P("iban",N),_=P("idealBank",N),U=P("p24Bank",N),$=P("epsBank",N),M=P("payment",N),z=P("payButton",N),D=P("paymentRequestButton",N),W=P("linkAuthentication",N),Y=P("address",N),J=P("shippingAddress",N),K=P("cart",N),G=P("paymentMethodMessaging",N),H=P("affirmMessage",N),V=P("afterpayClearpayMessage",N);e.AddressElement=Y,e.AffirmMessageElement=H,e.AfterpayClearpayMessageElement=V,e.AuBankAccountElement=F,e.CardCvcElement=q,e.CardElement=I,e.CardExpiryElement=T,e.CardNumberElement=R,e.CartElement=K,e.Elements=C,e.ElementsConsumer=x,e.EpsBankElement=$,e.FpxBankElement=B,e.IbanElement=L,e.IdealBankElement=_,e.LinkAuthenticationElement=W,e.P24BankElement=U,e.PayButtonElement=z,e.PaymentElement=M,e.PaymentMethodMessagingElement=G,e.PaymentRequestButtonElement=D,e.ShippingAddressElement=J,e.useCartElement=function(){return O("calls useCartElement()").cart},e.useCartElementState=function(){return O("calls useCartElementState()").cartState},e.useElements=function(){return S("calls useElements()").elements},e.useStripe=function(){return S("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(7294))},1291:function(e,t,r){"use strict";r.d(t,{J:function(){return p}});var n="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(n,'"]')),t=0;t<e.length;t++){var r=e[t];if(o.test(r.src))return r}return null},u=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(n).concat(t);var o=document.head||document.body;if(!o)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},a=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.46.0",startTime:t})},s=null,c=function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return a(n,r),n},l=Promise.resolve().then(function(){return null!==s?s:s=new Promise(function(e,t){if("undefined"==typeof window){e(null);return}if(window.Stripe,window.Stripe){e(window.Stripe);return}try{var r=i();r||(r=u(null)),r.addEventListener("load",function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))}),r.addEventListener("error",function(){t(Error("Failed to load Stripe.js"))})}catch(e){t(e);return}})}),f=!1;l.catch(function(e){f||console.warn(e)});var p=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];f=!0;var n=Date.now();return l.then(function(e){return c(e,t,n)})}},3835:function(e,t,r){"use strict";function n(e){return e}function o(e){let t={subscribe(t){let r=null,n=!1,o=!1,i=!1;function u(){if(null===r){i=!0;return}!o&&(o=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),u())},complete(){n||(n=!0,t.complete?.(),u())}}),i&&u(),{unsubscribe:u}},pipe:(...e)=>(0===e.length?n:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}r.d(t,{K5:function(){return E},N8:function(){return b}});class i extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,i.prototype)}}class u extends Error{static from(e,t={}){return e instanceof Error?"TRPCClientError"===e.name?e:new u(e.message,{...t,cause:e,result:null}):new u(e.error.message??"",{...t,cause:void 0,result:e})}constructor(e,t){let r=t?.cause;super(e,{cause:r}),this.meta=t?.meta,this.cause=r,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,u.prototype)}}function a(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}let s=()=>{},c=e=>(function e(t,r){let n=new Proxy(s,{get(n,o){if("string"==typeof o&&"then"!==o)return e(t,[...r,o])},apply:(e,n,o)=>t({args:o,path:r})});return n})(e,[]),l=e=>new Proxy(s,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}});function f(){return"undefined"!=typeof window?window:globalThis}let p={query:"GET",mutation:"POST"};function m(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[r]=n}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}function d(e){let t=e.url+"/"+e.path,r=[];if("inputs"in e&&r.push("batch=1"),"query"===e.type){let t=m(e);void 0!==t&&r.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return r.length&&(t+="?"+r.join("&")),t}let y=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function h(e){let t=null,r=null,n=()=>{clearTimeout(r),r=null,t=null};function o(){let r=function(t){let r=[[]],n=0;for(;;){let o=t[n];if(!o)break;let i=r[r.length-1];if(o.aborted){o.reject(Error("Aborted")),n++;continue}let u=e.validate(i.concat(o).map(e=>e.key));if(u){i.push(o),n++;continue}if(0===i.length){o.reject(Error("Input is too big for a single dispatch")),n++;continue}r.push([])}return r}(t);for(let t of(n(),r)){if(!t.length)continue;let r={items:t,cancel:y};for(let e of t)e.batch=r;let{promise:n,cancel:o}=e.fetch(r.items.map(e=>e.key));r.cancel=o,n.then(e=>{for(let t=0;t<e.length;t++){let n=e[t],o=r.items[t];o.resolve(n),o.batch=null}}).catch(e=>{for(let t of r.items)t.reject(e),t.batch=null})}}return{load:function(e){let n={aborted:!1,key:e,batch:null,resolve:y,reject:y},i=new Promise((e,r)=>{n.reject=r,n.resolve=e,t||(t=[]),t.push(n)});r||(r=setTimeout(o));let u=()=>{n.aborted=!0,n.batch?.items.every(e=>e.aborted)&&(n.batch.cancel(),n.batch=null)};return{promise:i,cancel:u}}}}function b(e){let t=function(e){let t=e.headers||(()=>({}));return{url:e.url,fetch:function(e){if(e)return e;let t=f(),r=t.fetch;if(r)return"function"==typeof r.bind?r.bind(t):r;throw Error("No fetch implementation found")}(e.fetch),AbortController:e.AbortController??f().AbortController??null,headers:"function"==typeof t?t:()=>t}}(e);return r=>{let n=e.maxURLLength||1/0,i=e=>{let o=o=>{if(n===1/0)return!0;let i=o.map(e=>e.path).join(","),u=o.map(e=>e.input),a=d({...t,runtime:r,type:e,path:i,inputs:u});return a.length<=n},i=n=>{let o=n.map(e=>e.path).join(","),i=n.map(e=>e.input),{promise:u,cancel:a}=function(e){let{type:t}=e,r=e.AbortController?new e.AbortController:null,n=new Promise((n,o)=>{let i=d(e),u=function(e){if("query"===e.type)return;let t=m(e);return void 0!==t?JSON.stringify(t):void 0}(e),a={};Promise.resolve(e.headers()).then(n=>{if("subscription"===t)throw Error("Subscriptions should use wsLink");return e.fetch(i,{method:p[t],signal:r?.signal,body:u,headers:{"content-type":"application/json",...n}})}).then(e=>(a.response=e,e.json())).then(e=>{n({json:e,meta:a})}).catch(o)}),o=()=>{r?.abort()};return{promise:n,cancel:o}}({...t,runtime:r,type:e,path:o,inputs:i});return{promise:u.then(e=>{let t=Array.isArray(e.json)?e.json:n.map(()=>e.json),r=t.map(t=>({meta:e.meta,json:t}));return r}),cancel:a}};return{validate:o,fetch:i}},s=h(i("query")),c=h(i("mutation")),l=h(i("subscription")),f={query:s,subscription:l,mutation:c};return({op:e})=>o(t=>{let n=f[e.type],{promise:o,cancel:i}=n.load(e);return o.then(e=>{let n=function(e,t){let r;try{r=function(e,t){if("error"in e){let r=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}let r={...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}};return{ok:!0,result:r}}(e,t)}catch(e){throw new u("Unable to transform response from server")}if(!r.ok&&(!a(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!a(r.result))throw new u("Badly formatted response from server");return r}(e.json,r);if(!n.ok){t.error(u.from(n.error,{meta:e.meta}));return}t.next({context:e.meta,result:n.result}),t.complete()}).catch(e=>t.error(u.from(e))),()=>{i()}})}}class g{$request({type:e,input:t,path:r,context:n={}}){var i;let u=(i={links:this.links,op:{id:++this.requestId,type:e,path:r,input:t,context:n}},o(e=>{let t=function e(t=0,r=i.op){let n=i.links[t];if(!n)throw Error("No more links to execute - did you forget to add an ending link?");let o=n({op:r,next(r){let n=e(t+1,r);return n}});return o}();return t.subscribe(e)}));return u.pipe(e=>{let t=0,r=null,n=[];return{subscribe:o=>(t++,n.push(o),r||(r=e.subscribe({next(e){for(let t of n)t.next?.(e)},error(e){for(let t of n)t.error?.(e)},complete(){for(let e of n)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&r){let e=r;r=null,e.unsubscribe()}}();let e=n.findIndex(e=>e===o);e>-1&&n.splice(e,1)}})}})}requestAsPromise(e){let t=this.$request(e),{promise:r,abort:n}=function(e){let t;let r=new Promise((r,n)=>{let o=!1;function u(){o||(o=!0,n(new i("This operation was aborted.")),a.unsubscribe())}let a=e.subscribe({next(e){o=!0,r(e),u()},error(e){o=!0,n(e),u()},complete(){o=!0,u()}});t=u});return{promise:r,abort:t}}(t),o=new Promise((t,o)=>{e.signal?.addEventListener("abort",n),r.then(e=>{t(e.result.data)}).catch(e=>{o(u.from(e))})});return o}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){let n=this.$request({type:"subscription",path:e,input:t,context:r?.context});return n.subscribe({next(e){"started"===e.result.type?r.onStarted?.():"stopped"===e.result.type?r.onStopped?.():r.onData?.(e.result.data)},error(e){r.onError?.(e)},complete(){r.onComplete?.()}})}constructor(e){this.requestId=0,this.runtime={transformer:function(){let t=e.transformer;return t?"input"in t?{serialize:t.input.serialize,deserialize:t.output.deserialize}:t:{serialize:e=>e,deserialize:e=>e}}()},this.links=e.links.map(e=>e(this.runtime))}}let v={query:"query",mutate:"mutation",subscribe:"subscription"};function E(e){let t=new g(e),r=l(e=>t.hasOwnProperty(e)?t[e]:c(({path:r,args:n})=>{let o=[e,...r],i=o.pop(),u=v[i],a=o.join(".");return t[u](a,...n)}));return r}},4887:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var n={};r.r(n),r.d(n,{exclude:function(){return w},extract:function(){return h},parse:function(){return b},parseUrl:function(){return v},pick:function(){return j},stringify:function(){return g},stringifyUrl:function(){return E}});let o="%[a-f0-9]{2}",i=RegExp("("+o+")|([^%]+?)","gi"),u=RegExp("("+o+")+","gi");function a(e,t){if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===e||""===t)return[];let r=e.indexOf(t);return -1===r?[]:[e.slice(0,r),e.slice(r+t.length)]}let s=e=>null==e,c=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),l=Symbol("encodeFragmentIdentifier");function f(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function p(e,t){return t.encode?t.strict?c(e):encodeURIComponent(e):e}function m(e,t){return t.decode?function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return decodeURIComponent(e)}catch{return function(e){let t={"%FE%FF":"��","%FF%FE":"��"},r=u.exec(e);for(;r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{let e=function(e){try{return decodeURIComponent(e)}catch{let t=e.match(i)||[];for(let r=1;r<t.length;r++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;r=r||1;let n=t.slice(0,r),o=t.slice(r);return Array.prototype.concat.call([],e(n),e(o))})(t,r).join("")).match(i)||[];return e}}(r[0]);e!==r[0]&&(t[r[0]]=e)}r=u.exec(e)}t["%C2"]="�";let n=Object.keys(t);for(let r of n)e=e.replace(RegExp(r,"g"),t[r]);return e}(e)}}(e):e}function d(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function y(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function h(e){e=d(e);let t=e.indexOf("?");return -1===t?"":e.slice(t+1)}function b(e,t){f((t={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...t}).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)]$/.exec(e),e=e.replace(/\[\d*]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[])$/.exec(e),e=e.replace(/\[]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[...n[e],r]};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[...n[e],r]};case"comma":case"separator":return(t,r,n)=>{let o="string"==typeof r&&r.includes(e.arrayFormatSeparator),i="string"==typeof r&&!o&&m(r,e).includes(e.arrayFormatSeparator);r=i?m(r,e):r;let u=o||i?r.split(e.arrayFormatSeparator).map(t=>m(t,e)):null===r?r:m(r,e);n[t]=u};case"bracket-separator":return(t,r,n)=>{let o=/(\[])$/.test(t);if(t=t.replace(/\[]$/,""),!o){n[t]=r?m(r,e):r;return}let i=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>m(t,e));if(void 0===n[t]){n[t]=i;return}n[t]=[...n[t],...i]};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[...[r[e]].flat(),t]}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let o of e.split("&")){if(""===o)continue;let e=t.decode?o.replace(/\+/g," "):o,[i,u]=a(e,"=");void 0===i&&(i=e),u=void 0===u?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?u:m(u,t),r(m(i,t),u,n)}for(let[e,r]of Object.entries(n))if("object"==typeof r&&null!==r)for(let[e,n]of Object.entries(r))r[e]=y(n,t);else n[e]=y(r,t);return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}function g(e,t){if(!e)return"";f((t={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...t}).arrayFormatSeparator);let r=r=>t.skipNull&&s(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[p(t,e),"[",o,"]"].join("")]:[...r,[p(t,e),"[",p(o,e),"]=",p(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[p(t,e),"[]"].join("")]:[...r,[p(t,e),"[]=",p(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[p(t,e),":list="].join("")]:[...r,[p(t,e),":list=",p(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?n:(o=null===o?"":o,0===n.length)?[[p(r,e),t,p(o,e)].join("")]:[[n,p(o,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,p(t,e)]:[...r,[p(t,e),"=",p(n,e)].join("")]}}(t),o={};for(let[t,n]of Object.entries(e))r(t)||(o[t]=n);let i=Object.keys(o);return!1!==t.sort&&i.sort(t.sort),i.map(r=>{let o=e[r];return void 0===o?"":null===o?p(r,t):Array.isArray(o)?0===o.length&&"bracket-separator"===t.arrayFormat?p(r,t)+"[]":o.reduce(n(r),[]).join("&"):p(r,t)+"="+p(o,t)}).filter(e=>e.length>0).join("&")}function v(e,t){t={decode:!0,...t};let[r,n]=a(e,"#");return void 0===r&&(r=e),{url:r?.split("?")?.[0]??"",query:b(h(e),t),...t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:m(n,t)}:{}}}function E(e,t){t={encode:!0,strict:!0,[l]:!0,...t};let r=d(e.url).split("?")[0]||"",n=h(e.url),o={...b(n,{sort:!1}),...e.query},i=g(o,t);i&&(i=`?${i}`);let u=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);if(e.fragmentIdentifier){let n=new URL(r);n.hash=e.fragmentIdentifier,u=t[l]?n.hash:`#${e.fragmentIdentifier}`}return`${r}${i}${u}`}function j(e,t,r){r={parseFragmentIdentifier:!0,[l]:!1,...r};let{url:n,query:o,fragmentIdentifier:i}=v(e,r);return E({url:n,query:function(e,t){let r={};if(Array.isArray(t))for(let n of t){let t=Object.getOwnPropertyDescriptor(e,n);t?.enumerable&&Object.defineProperty(r,n,t)}else for(let n of Reflect.ownKeys(e)){let o=Object.getOwnPropertyDescriptor(e,n);if(o.enumerable){let i=e[n];t(n,i,e)&&Object.defineProperty(r,n,o)}}return r}(o,t),fragmentIdentifier:i},r)}function w(e,t,r){let n=Array.isArray(t)?e=>!t.includes(e):(e,r)=>!t(e,r);return j(e,n,r)}var k=n}}]);